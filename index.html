<html>
<title>Accessing REST API on localhost</title>
<head>
<script>
var baseUrl = 'http://localhost:5000/'

function httpGet( url, callback ) 
{
  var xhr = new XMLHttpRequest();
  var timeoutTime = 1000;
  
  xhr.ontimeout = function () {
    console.error("The request for " + url + " timed out.");
  };
  
  xhr.onload = function() {
    if (xhr.readyState === 4) { 
      if (xhr.status === 200) {
        callback( xhr.responseText );
      } else {
        console.error(xhr.statusText);
      }
    }
  };

  xhr.open("GET", url, true);
  xhr.timeout = timeoutTime;
  xhr.send(null);
}

function updateA0Value( text )
{
    document.getElementById('A0value').innerHTML = text;
}

</script>
</head>

<body>

<button type="button" onclick="httpGet( baseUrl + 'gpio/A0', updateA0Value )">Click to fetch latest value of A0</button>

Current values from device: <br />

<ul>
    <li>A0: <label id="A0value">- X -</label></li>
</ul>


</body>

</html>
